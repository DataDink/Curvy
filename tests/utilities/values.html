<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>Value Tests</title>
		<link rel="stylesheet" href="http://code.jquery.com/qunit/qunit-1.18.0.css">
		<script src="../../builds/curvy.js"></script>
	</head>
	<body>
		<div id="qunit"></div>
		<div id="qunit-fixture"></div>
		<script src="http://code.jquery.com/qunit/qunit-1.18.0.js"></script>
		<script>
			Application.extend(function(utilities) {
				QUnit.test('Injection', function (assert) { assert.ok(true, 'Injected'); });
				QUnit.test('Types', function(assert) {
					assert.ok(utilities.nothing === (function(v) { return v; })(), 'Nothing is nothing');
					assert.ok(utilities.is([], Array), 'Array is array');
					assert.ok(utilities.is(function() {}, 'function'), 'Function is function');
				});
				QUnit.test('Readonly Properties', function(assert) {
					var it = {};
					
					it.overwritten = false;
					utilities.readonly(it, 'overwritten', function() { return true; });
					assert.ok(it.overwritten === true, 'Overwritten is overwritten');
					
					utilities.readonly(it, 'readonly', function() { return true; });
					assert.ok(it.readonly === true, 'Readonly is created');
					it.readonly = false;
					assert.ok(it.readonly === true, 'Readonly is readonly');
					delete it.readonly;
					assert.ok(it.readonly === true, 'Readonly is here to stay');
				});
				QUnit.test('Constant Properties', function(assert) {
					var it = {};
					
					it.overwritten = false;
					utilities.constant(it, 'overwritten', true);
					assert.ok(it.overwritten === true, 'Overwritten is overwritten');
					
					utilities.constant(it, 'constant', true);
					assert.ok(it.constant === true, 'Constant is created');
					it.constant = false;
					assert.ok(it.constant === true, 'Constant is constant');
					delete it.constant;
					assert.ok(it.constant === true, 'Constant is here to stay');
				});
			});
			new Application();
		</script>
	</body>
</html>