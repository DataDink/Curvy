<!DOCTYPE html>
<html>
   <head>
      <meta charset="utf-8">
      <title>Class</title>
      <link rel="stylesheet" href="http://code.jquery.com/qunit/qunit-1.18.0.css">
      <script src="../../builds/curvy.js"></script>
   </head>
   <body>

      <div id="qunit"></div>
      <div id="qunit-fixture"></div>
      <script src="http://code.jquery.com/qunit/qunit-1.18.0.js"></script>
      <script>
         Application.extend(function(html) {
            QUnit.test('Tests', function(assert) {
               var element = document.createElement('div');
               html.addClass(element, 'test');
               assert.ok(element.matches('.test'), 'Added class');
               html.addClass(element, 'test');
               assert.ok(element.getAttribute('class').length < 8, 'Added once');
               html.addClass(element, 'test2');
               assert.ok(element.matches('.test.test2'), 'Added second class');
               html.toggleClass(element, 'test2');
               assert.ok(element.matches('.test:not(.test2)'), 'Toggles off');
               html.toggleClass(element, 'test2');
               assert.ok(element.matches('.test.test2'), 'Toggles on');
               html.removeClass(element, 'test2');
               assert.ok(element.matches('.test:not(.test2)'), 'Removes class');
               html.removeClass(element, 'test2');
               assert.ok(element.matches('.test:not(.test2)'), 'Removes once');
               assert.ok(html.hasClass(element, 'test'), 'Detects class');
               assert.ok(!html.hasClass(element, 'test2'), 'Detect no class');
               assert.ok(!html.hasClass(element, 'est'), 'Detect no partials');

               element = document.createElement('div');
               html.addClass(element, 'test-with_chars');
               assert.ok(element.matches('.test-with_chars'), 'Added class');
               html.addClass(element, 'test-with_chars');
               assert.ok(element.getAttribute('class').length < 30, 'Added once');
               html.addClass(element, 'test-with_chars2');
               assert.ok(element.matches('.test-with_chars.test-with_chars2'), 'Added second class');
               html.toggleClass(element, 'test-with_chars2');
               assert.ok(element.matches('.test-with_chars:not(.test-with_chars2)'), 'Toggles off');
               html.toggleClass(element, 'test-with_chars2');
               assert.ok(element.matches('.test-with_chars.test-with_chars2'), 'Toggles on');
               html.removeClass(element, 'test-with_chars2');
               assert.ok(element.matches('.test-with_chars:not(.test-with_chars2)'), 'Removes class');
               html.removeClass(element, 'test-with_chars2');
               assert.ok(element.matches('.test-with_chars:not(.test-with_chars2)'), 'Removes once');
               assert.ok(html.hasClass(element, 'test-with_chars'), 'Detects class');
               assert.ok(!html.hasClass(element, 'test-with_chars2'), 'Detect no class');
               assert.ok(!html.hasClass(element, 'with'), 'Detect no partials A');
               assert.ok(!html.hasClass(element, 'test'), 'Detect no partials B');
               assert.ok(!html.hasClass(element, 'chars'), 'Detect no partials C');
            })
         });

         new Application();
      </script>
   </body>
</html>
